# PISAD Default Configuration
# All configuration keys use UPPER_SNAKE case as per coding standards

# Application settings
APP_NAME: "PISAD"
APP_VERSION: "1.0.0"
APP_ENV: "development"
APP_HOST: "0.0.0.0"
APP_PORT: 8000

# SDR Configuration
SDR_FREQUENCY: 3200000000 # Default frequency in Hz (3.2 GHz)
SDR_SAMPLE_RATE: 2048000 # Sample rate in Hz (2.048 MHz)
SDR_GAIN: 30 # Gain in dB
SDR_PPM_CORRECTION: 0 # Frequency correction in PPM
SDR_DEVICE_INDEX: 0 # RTL-SDR device index
SDR_BUFFER_SIZE: 16384 # Buffer size for SDR reads

# Signal Processing
SIGNAL_RSSI_THRESHOLD: -70 # RSSI threshold in dBm for signal detection
SIGNAL_AVERAGING_WINDOW: 10 # Number of samples for moving average
SIGNAL_MIN_DURATION_MS: 100 # Minimum signal duration in milliseconds
SIGNAL_MAX_GAP_MS: 50 # Maximum gap in signal to consider continuous

# TASK-2.2.7 [32e] - FR7 Debounced State Transitions
STATE_MACHINE_TRIGGER_THRESHOLD_DB: 12.0 # FR7: Trigger threshold in dB SNR for SEARCHING->DETECTING
STATE_MACHINE_DROP_THRESHOLD_DB: 6.0 # FR7: Drop threshold in dB SNR for DETECTING->SEARCHING
STATE_MACHINE_DEBOUNCE_DETECTION_PERIOD_MS: 300 # Time period for detection debouncing in milliseconds
STATE_MACHINE_DEBOUNCE_LOSS_PERIOD_MS: 300 # Time period for signal loss debouncing in milliseconds

# Interferometry Configuration
INTERFEROMETRY_ENABLED: false # Enable interferometric processing
INTERFEROMETRY_BASELINE_MM: 200 # Antenna baseline in millimeters
INTERFEROMETRY_CALIBRATION_FILE: "config/calibration.yaml"

# Database Configuration
DB_PATH: "data/pisad.db"
DB_CONNECTION_POOL_SIZE: 5
DB_ENABLE_WAL: true # Enable Write-Ahead Logging for better concurrency

# Logging Configuration
LOG_LEVEL: "INFO" # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
LOG_FILE_PATH: "logs/pisad.log"
LOG_FILE_MAX_BYTES: 10485760 # 10 MB
LOG_FILE_BACKUP_COUNT: 5
LOG_ENABLE_CONSOLE: true
LOG_ENABLE_FILE: true
LOG_ENABLE_JOURNAL: true # systemd journal integration

# WebSocket Configuration
WS_RSSI_UPDATE_INTERVAL_MS: 100 # RSSI update interval in milliseconds
WS_HEARTBEAT_INTERVAL_S: 30 # WebSocket heartbeat interval in seconds
WS_MAX_CONNECTIONS: 10 # Maximum concurrent WebSocket connections

# Safety Configuration
SAFETY_VELOCITY_MAX_MPS: 2.0 # Maximum velocity in meters per second
SAFETY_INTERLOCK_ENABLED: false # Enable safety interlock system
SAFETY_EMERGENCY_STOP_GPIO: 23 # GPIO pin for emergency stop

# Performance Configuration
PERF_WORKER_THREADS: 4 # Number of worker threads
PERF_ENABLE_PROFILING: false # Enable performance profiling
PERF_CACHE_SIZE_MB: 100 # In-memory cache size in MB

# API Configuration
API_RATE_LIMIT_ENABLED: false # Enable rate limiting
API_RATE_LIMIT_REQUESTS: 100 # Requests per minute
API_CORS_ENABLED: true # Enable CORS
API_CORS_ORIGINS: ["*"] # Allowed CORS origins
API_KEY_ENABLED: false # Enable API key authentication
API_KEY: "" # API key (leave empty to disable)

# System Monitoring
MONITORING_ENABLED: false # Enable Prometheus metrics
MONITORING_PORT: 9090 # Prometheus metrics port
MONITORING_INTERVAL_S: 60 # Metrics collection interval

# Development Settings
DEV_HOT_RELOAD: true # Enable hot reload in development
DEV_DEBUG_MODE: false # Enable debug mode
DEV_MOCK_SDR: false # Use mock SDR for testing without hardware

# Homing Algorithm Configuration
HOMING_FORWARD_VELOCITY_MAX: 5.0 # Maximum forward velocity in m/s
HOMING_YAW_RATE_MAX: 0.5 # Maximum yaw rate in rad/s
HOMING_APPROACH_VELOCITY: 1.0 # Reduced velocity for approach in m/s
HOMING_SIGNAL_LOSS_TIMEOUT: 5.0 # Signal loss timeout in seconds
HOMING_ALGORITHM_MODE: "GRADIENT" # Algorithm mode: SIMPLE or GRADIENT
HOMING_GRADIENT_WINDOW_SIZE: 10 # RSSI history window size
HOMING_GRADIENT_MIN_SNR: 10.0 # Minimum SNR for gradient calculation in dB
HOMING_SAMPLING_TURN_RADIUS: 10.0 # S-turn radius for sampling in meters
HOMING_SAMPLING_DURATION: 5.0 # Duration of sampling maneuver in seconds
HOMING_APPROACH_THRESHOLD: -50.0 # RSSI threshold for approach mode in dBm
HOMING_PLATEAU_VARIANCE: 2.0 # RSSI variance for plateau detection
HOMING_VELOCITY_SCALE_FACTOR: 0.1 # Scaling factor for velocity commands

# Network Configuration - Packet Loss Thresholds and Runtime Adjustment
NETWORK_PACKET_LOSS_LOW_THRESHOLD: 0.01 # 1% - Low packet loss threshold
NETWORK_PACKET_LOSS_MEDIUM_THRESHOLD: 0.05 # 5% - Medium packet loss threshold
NETWORK_PACKET_LOSS_HIGH_THRESHOLD: 0.10 # 10% - High packet loss threshold
NETWORK_PACKET_LOSS_CRITICAL_THRESHOLD: 0.20 # 20% - Critical packet loss threshold
NETWORK_CONGESTION_DETECTOR_ENABLED: true # Enable network congestion detection
NETWORK_BASELINE_LATENCY_MS: 0.0 # Baseline latency measurement in milliseconds
NETWORK_LATENCY_THRESHOLD_MS: 100.0 # Maximum acceptable latency in milliseconds

# Network Runtime Adjustment Configuration
NETWORK_RUNTIME_ADJUSTMENT_ENABLED: true # Enable runtime threshold adjustment
NETWORK_OPERATOR_OVERRIDE_ENABLED: true # Allow operator override of thresholds
NETWORK_MONITORING_INTERVAL_MS: 1000 # Network monitoring interval in milliseconds
NETWORK_ADAPTIVE_RATE_ENABLED: true # Enable adaptive transmission rate adjustment
